<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Global Deposit Career 2026</title>
    
    <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:wght@400;500;600&family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        bg: { main: '#0F172A', surface: '#1E293B', highlight: '#334155' },
                        txt: { primary: '#F8FAFC', secondary: '#94A3B8', success: '#22C55E', warning: '#FCD34D', danger: '#EF4444', info: '#60A5FA' }
                    },
                    fontFamily: { sans: ['Inter', 'sans-serif'], mono: ['IBM Plex Mono', 'monospace'] },
                    boxShadow: { 'glow': '0 0 20px rgba(34, 197, 94, 0.2)' }
                }
            }
        }
    </script>
    <style>
        body { background-color: #0F172A; color: #F8FAFC; user-select: none; }
        
        /* 1Ô∏è‚É£ System Breath (Slow & Deep) */
        @keyframes breathe {
            0%, 100% { opacity: 0.3; }
            50% { opacity: 0.7; }
        }
        .system-breathe { animation: breathe 8s ease-in-out infinite; }

        /* 2Ô∏è‚É£ Pre-Interaction Pulse (Soft Invitation) */
        @keyframes pulse-soft {
            0%, 100% { box-shadow: 0 0 0 rgba(34,197,94,0); }
            50% { box-shadow: 0 0 20px rgba(34,197,94,0.15); }
        }
        .btn-alive { animation: pulse-soft 4s ease-in-out infinite; }

        /* 5Ô∏è‚É£ Micro Shake (Success Feedback) */
        @keyframes shake-micro {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-1px); }
            75% { transform: translateX(1px); }
        }
        .shake-success { animation: shake-micro 0.3s ease-in-out; }

        /* General Utilities */
        .spinner { width: 18px; height: 18px; border: 2px solid rgba(255,255,255,0.1); border-top-color: #fff; border-radius: 50%; animation: spin 0.8s linear infinite; }
        @keyframes spin { to { transform: rotate(360deg); } }
        .btn-gradient { background: linear-gradient(135deg, #22C55E 0%, #15803d 100%); }
        .btn-disabled { background: #334155; box-shadow: none; cursor: not-allowed; }
        
        /* 5Ô∏è‚É£ Ease System (Professional Feel) */
        .ease-system { transition: all 0.5s cubic-bezier(0.16, 1, 0.3, 1); }
        
        .fade-in { animation: fadeIn 0.4s ease-out; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
    </style>
</head>
<body class="min-h-screen flex flex-col items-center relative overflow-hidden bg-bg-main text-txt-primary font-sans">

    <div class="w-full max-w-[375px] py-4 px-6 flex justify-between items-center z-20 border-b border-bg-highlight/20 bg-bg-main/90 backdrop-blur-sm fixed top-0">
        <div class="flex items-center gap-3">
            <div class="relative flex h-2 w-2">
              <span id="sys-pulse" class="animate-ping absolute inline-flex h-full w-full rounded-full bg-txt-success opacity-75"></span>
              <span id="sys-dot" class="relative inline-flex rounded-full h-2 w-2 bg-txt-success"></span>
            </div>
            <span id="sys-text" class="text-[10px] font-mono tracking-widest uppercase text-txt-secondary">SYSTEM LIVE</span>
        </div>
        <div class="px-2 py-0.5 rounded bg-bg-highlight/30 text-[10px] text-txt-secondary font-mono border border-white/5">ID:882</div>
    </div>

    <main class="w-full max-w-[375px] flex-1 flex flex-col pt-20 pb-6 px-6 space-y-8 relative z-10">

        <div class="space-y-3 pt-2">
            <div class="flex justify-between items-center">
                <span class="text-[10px] text-txt-secondary font-medium uppercase tracking-widest">Operational State</span>
                <span id="op-badge" class="system-breathe text-[10px] text-txt-primary font-mono bg-bg-highlight/50 px-2 py-1 rounded tracking-wide border border-white/5">SYNCING...</span>
            </div>
            <div class="h-6 flex items-end justify-between gap-1 opacity-40 system-breathe" id="system-chart"></div>
        </div>

        <div id="balance-card" class="ease-system bg-bg-surface/50 border border-bg-highlight/30 rounded-2xl p-6 text-center backdrop-blur-sm shadow-sm relative overflow-hidden">
            <p class="text-[10px] text-txt-secondary uppercase tracking-widest mb-3">AVAILABLE (POST-CYCLE)</p>
            <div class="font-mono text-4xl font-light text-txt-primary tracking-tighter">
                <span class="text-txt-warning text-2xl align-top mt-1 inline-block">$</span><span id="ui-balance">0.00</span>
            </div>
        </div>

        <div class="flex-1 flex flex-col justify-center py-2">
            <button id="btn-claim" onclick="Controller.handleClaim()" class="ease-system btn-disabled w-full py-5 rounded-2xl shadow-none transform group relative overflow-hidden" disabled>
                <div id="btn-hover" class="absolute inset-0 bg-white/10 opacity-0 group-hover:opacity-100 transition-opacity"></div>
                <span id="btn-text" class="text-sm font-semibold tracking-widest uppercase text-txt-secondary font-sans">LOADING...</span>
                <div id="btn-loader" class="hidden absolute inset-0 flex items-center justify-center bg-bg-highlight"><div class="spinner"></div></div>
            </button>

            <div id="claim-feedback" class="mt-4 h-6 text-center transition-all duration-500 opacity-0">
                <p id="feedback-text" class="flex items-center justify-center gap-2"></p>
            </div>
        </div>

        <div class="pb-2 border-t border-bg-highlight/20 pt-6 mt-auto">
            <div class="flex justify-between items-center mb-3">
                <div class="flex items-center gap-3">
                    <div class="p-2 bg-bg-highlight/30 rounded-lg text-txt-secondary">üîí</div>
                    <div>
                        <p class="text-[10px] text-txt-secondary uppercase tracking-widest font-medium">Locked Assets</p>
                        <p class="text-sm font-mono text-txt-primary tracking-tight">$5,000.00</p>
                    </div>
                </div>
                <div class="text-right">
                    <p class="text-[10px] text-txt-secondary uppercase tracking-widest">Progress</p>
                    <p class="text-xs font-mono text-txt-info">Day 14 <span class="text-txt-secondary">/ 60</span></p>
                </div>
            </div>
            <div class="w-full bg-bg-highlight rounded-full h-1 overflow-hidden">
                <div class="bg-txt-info/40 h-full rounded-full w-1/4"></div>
            </div>
        </div>
    </main>

    <div id="modal-task" class="fixed inset-0 z-50 hidden">
        <div class="absolute inset-0 bg-bg-main/95 backdrop-blur-sm fade-in"></div>
        <div class="absolute bottom-0 w-full max-w-[375px] left-1/2 -translate-x-1/2 bg-bg-surface border-t border-bg-highlight p-8 rounded-t-3xl shadow-2xl slide-up">
            <h3 class="text-lg font-semibold text-txt-primary mb-2">Security Check</h3>
            <p class="text-xs text-txt-secondary mb-6">System requires verification to proceed.</p>
            <div class="border border-dashed border-bg-highlight bg-bg-main/50 rounded-xl p-6 flex flex-col items-center justify-center mb-6 cursor-pointer">
                <span class="text-2xl mb-2 opacity-50">üì∏</span>
                <span class="text-[10px] text-txt-secondary uppercase tracking-widest">Upload Screenshot</span>
            </div>
            <button onclick="Controller.submitTask()" class="w-full bg-txt-primary text-bg-main font-bold py-4 rounded-xl">Submit Verification</button>
        </div>
    </div>

    <div class="fixed bottom-2 right-2 flex flex-col gap-1 opacity-20 hover:opacity-100 transition-opacity z-50">
        <button onclick="MockServer.reset()" class="bg-red-900 text-[9px] text-white px-2 py-1 rounded">Reset</button>
        <button onclick="MockServer.toggleSunday()" class="bg-gray-700 text-[9px] text-white px-2 py-1 rounded">Sunday</button>
        <button onclick="MockServer.forceTask()" class="bg-blue-700 text-[9px] text-white px-2 py-1 rounded">Task</button>
        <button onclick="Timer.start(65)" class="bg-green-700 text-[9px] text-white px-2 py-1 rounded">Test Time</button>
    </div>

    <script>
        // --- 1. Mock Server ---
        const MockServer = {
            db: { balance: 1240.50, lastClaim: localStorage.getItem('mock_last'), isSunday: false, forceTask: false },
            async delay(ms) { return new Promise(r => setTimeout(r, ms)); },
            async getStatus() {
                await this.delay(500);
                const now = new Date();
                const last = this.db.lastClaim ? new Date(parseInt(this.db.lastClaim)) : null;
                const claimedToday = last && last.toDateString() === now.toDateString();
                let state = "READY_TO_CLAIM";
                if (this.db.isSunday) state = "MARKET_CLOSED";
                else if (claimedToday) state = "CLAIMED";
                
                return { ok: true, state: state, data: { balance: this.db.balance, system_live: !this.db.isSunday, next_cycle_in: 86400, requires_task: this.db.forceTask } };
            },
            async claim() {
                await this.delay(800);
                if(this.db.isSunday) return { ok: false, state: "MARKET_CLOSED", data: {} };
                if(this.db.forceTask || Math.random() < 0.3) {
                    this.db.forceTask = false;
                    return { ok: false, state: "TASK_REQUIRED", data: { type: "SCREENSHOT" } };
                }
                const oldBalance = this.db.balance;
                this.db.balance += 12.50;
                this.db.lastClaim = Date.now();
                localStorage.setItem('mock_last', this.db.lastClaim);
                return { ok: true, state: "CLAIMED", data: { balance: this.db.balance, old_balance: oldBalance, next_cycle_in: 86400 } };
            },
            async submitTask() {
                await this.delay(1000);
                const oldBalance = this.db.balance;
                this.db.balance += 12.50;
                this.db.lastClaim = Date.now();
                localStorage.setItem('mock_last', this.db.lastClaim);
                return { ok: true, state: "CLAIMED", data: { balance: this.db.balance, old_balance: oldBalance, next_cycle_in: 86400 } };
            },
            reset() { localStorage.removeItem('mock_last'); location.reload(); },
            toggleSunday() { this.db.isSunday = !this.db.isSunday; location.reload(); },
            forceTask() { this.db.forceTask = true; alert('Next: Task'); }
        };

        // --- 2. Living Animation Utilities ---
        const Animator = {
            // 2Ô∏è‚É£ Living Numbers Logic
            number(element, start, end, duration = 1000) {
                let startTimestamp = null;
                const step = (timestamp) => {
                    if (!startTimestamp) startTimestamp = timestamp;
                    const progress = Math.min((timestamp - startTimestamp) / duration, 1);
                    // Easing: easeOutQuart
                    const easeProgress = 1 - Math.pow(1 - progress, 4); 
                    const current = start + (end - start) * easeProgress;
                    
                    // Formatting
                    const parts = current.toFixed(2).split('.');
                    element.innerHTML = `${parts[0]}<span class="text-xl text-txt-secondary">.${parts[1]}</span>`;
                    
                    if (progress < 1) {
                        window.requestAnimationFrame(step);
                    }
                };
                window.requestAnimationFrame(step);
            },
            
            shakeCard() {
                const card = document.getElementById('balance-card');
                card.classList.remove('shake-success');
                void card.offsetWidth; // trigger reflow
                card.classList.add('shake-success');
            }
        };

        // --- 3. Timer (Time Awareness) ---
        const Timer = {
            interval: null,
            start(seconds) {
                if(this.interval) clearInterval(this.interval);
                let remaining = seconds;
                const feedbackText = document.getElementById('feedback-text');
                
                const update = () => {
                    if (remaining <= 0) {
                        clearInterval(this.interval);
                        Controller.init();
                        return;
                    }
                    remaining--;
                    
                    // 4Ô∏è‚É£ Time Awareness: Change color in last 60s
                    let colorClass = "text-txt-info";
                    if (remaining < 60) colorClass = "text-txt-success";

                    const h = Math.floor(remaining / 3600).toString().padStart(2, '0');
                    const m = Math.floor((remaining % 3600) / 60).toString().padStart(2, '0');
                    const s = (remaining % 60).toString().padStart(2, '0');
                    
                    feedbackText.innerHTML = `<span class="${colorClass} font-mono text-[11px] tracking-widest">NEXT CYCLE ¬∑ ${h}:${m}:${s}</span>`;
                };
                update();
                this.interval = setInterval(update, 1000);
            },
            stop() { if(this.interval) clearInterval(this.interval); }
        };

        // --- 4. Controller ---
        const Controller = {
            ui: {
                balance: document.getElementById('ui-balance'),
                btn: document.getElementById('btn-claim'),
                btnText: document.getElementById('btn-text'),
                loader: document.getElementById('btn-loader'),
                feedback: document.getElementById('claim-feedback'),
                sysBadge: document.getElementById('op-badge'),
                modal: document.getElementById('modal-task')
            },

            async init() {
                this.setLoading(true);
                const res = await MockServer.getStatus();
                this.setLoading(false);
                this.render(res, false); // False = No animation on init
                this.initChart();
            },

            render(res, animate = false) {
                // Balance
                if (animate && res.data.old_balance !== undefined) {
                    Animator.number(this.ui.balance, res.data.old_balance, res.data.balance);
                    Animator.shakeCard(); // 5Ô∏è‚É£ Micro Shake
                } else {
                    const parts = res.data.balance.toFixed(2).split('.');
                    this.ui.balance.innerHTML = `${parts[0]}<span class="text-xl text-txt-secondary">.${parts[1]}</span>`;
                }

                // System Status
                if (!res.data.system_live) {
                    document.getElementById('sys-pulse').classList.add('hidden');
                    document.getElementById('sys-dot').className = "relative inline-flex rounded-full h-2 w-2 bg-txt-danger";
                    document.getElementById('sys-text').innerText = "SYSTEM PAUSED";
                    document.getElementById('sys-text').className = "text-[10px] font-mono tracking-widest uppercase text-txt-danger";
                    this.ui.sysBadge.innerText = "MAINTENANCE";
                    this.ui.sysBadge.classList.remove('system-breathe'); // Stop breathing on error
                } else {
                    this.ui.sysBadge.innerText = "LIQUIDITY 98%";
                    this.ui.sysBadge.classList.add('system-breathe');
                }

                this.updateButton(res.state, res.data);
            },

            updateButton(state, data) {
                const { btn, btnText, feedback } = this.ui;
                btn.className = "ease-system w-full py-5 rounded-2xl shadow-none transform group relative overflow-hidden";
                feedback.classList.remove('opacity-0');
                Timer.stop();

                switch(state) {
                    case 'READY_TO_CLAIM':
                        btn.classList.add('btn-gradient', 'shadow-glow', 'active:scale-[0.98]', 'btn-alive'); // 3Ô∏è‚É£ Pre-Interaction Life
                        btn.disabled = false;
                        btnText.className = "text-sm font-semibold tracking-widest uppercase text-white font-sans";
                        btnText.innerText = "CLAIM REWARD";
                        feedback.classList.add('opacity-0');
                        break;

                    case 'CLAIMED':
                        btn.classList.add('btn-disabled');
                        btn.disabled = true;
                        btnText.className = "text-sm font-medium tracking-widest uppercase text-txt-success/90 font-sans";
                        btnText.innerText = "CLAIMED";
                        Timer.start(data.next_cycle_in); 
                        break;

                    case 'MARKET_CLOSED':
                        btn.classList.add('btn-disabled');
                        btn.disabled = true;
                        btnText.className = "text-sm font-medium tracking-widest uppercase text-txt-danger font-sans";
                        btnText.innerText = "MARKET CLOSED";
                        document.getElementById('feedback-text').innerHTML = 
                            `<span class="text-txt-danger font-mono text-[11px] tracking-widest">SUNDAY MAINTENANCE</span>`;
                        break;
                }
            },

            async handleClaim() {
                this.ui.loader.classList.remove('hidden');
                this.ui.btnText.classList.add('opacity-0');
                
                // Stop pulse immediately on click
                this.ui.btn.classList.remove('btn-alive');

                const res = await MockServer.claim();
                
                this.ui.loader.classList.add('hidden');
                this.ui.btnText.classList.remove('opacity-0');

                if (res.ok) {
                    this.updateButton(res.state, res.data);
                    this.render(res, true); // True = Animate!
                } else {
                    if (res.state === 'TASK_REQUIRED') {
                        this.ui.modal.classList.remove('hidden');
                    } else if (res.state === 'MARKET_CLOSED') {
                        this.updateButton('MARKET_CLOSED', {});
                    }
                }
            },

            async submitTask() {
                const btn = this.ui.modal.querySelector('button');
                btn.innerText = "Verifying...";
                const res = await MockServer.submitTask();
                this.ui.modal.classList.add('hidden');
                btn.innerText = "Submit Verification";
                if (res.ok) {
                    this.updateButton(res.state, res.data);
                    this.render(res, true); // True = Animate!
                }
            },

            setLoading(isLoading) {
                if(isLoading) {
                    this.ui.btn.classList.add('btn-disabled');
                    this.ui.btnText.innerText = "SYNCING...";
                }
            },

            initChart() {
                const container = document.getElementById('system-chart');
                for(let i=0; i<15; i++) {
                    const bar = document.createElement('div');
                    bar.className = 'w-1.5 bg-bg-highlight/80 rounded-t-[2px] transition-all duration-[2000ms]';
                    bar.style.height = Math.floor(Math.random() * 40 + 20) + '%'; 
                    container.appendChild(bar);
                }
            }
        };

        Controller.init();
    </script>
</body>
</html>
